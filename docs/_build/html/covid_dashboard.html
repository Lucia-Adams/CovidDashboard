
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>covid_dashboard package &#8212; Covid Dashboard  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="covid_dashboard.tests package" href="covid_dashboard.tests.html" />
    <link rel="prev" title="covid_dashboard" href="modules.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="covid-dashboard-package">
<h1>covid_dashboard package<a class="headerlink" href="#covid-dashboard-package" title="Permalink to this headline">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="covid_dashboard.tests.html">covid_dashboard.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="covid_dashboard.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="covid_dashboard.tests.html#module-covid_dashboard.tests.test_all">covid_dashboard.tests.test_all module</a></li>
<li class="toctree-l2"><a class="reference internal" href="covid_dashboard.tests.html#module-covid_dashboard.tests.test_covid_data_handler">covid_dashboard.tests.test_covid_data_handler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="covid_dashboard.tests.html#module-covid_dashboard.tests.test_news_data_handling">covid_dashboard.tests.test_news_data_handling module</a></li>
<li class="toctree-l2"><a class="reference internal" href="covid_dashboard.tests.html#module-covid_dashboard.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-covid_dashboard.covid_data_handler">
<span id="covid-dashboard-covid-data-handler-module"></span><h2>covid_dashboard.covid_data_handler module<a class="headerlink" href="#module-covid_dashboard.covid_data_handler" title="Permalink to this headline">¶</a></h2>
<p>Covid Data Handler Module contains functions that process data from the Covid19 API</p>
<p>Functions:
parse_csv_data, parse_json_data, process_covid_csv_data, covid_API_request, read_config
fetch_data, schedule_covid_updates, update_delay</p>
<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.covid_API_request">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">covid_API_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Exeter'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ltla'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.covid_API_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns up to date Covid data from API as a json dictionary</p>
<p>Keyword arguments:
location (str) : Local region or country eg/ Exeter, London, England. Default at ‘Exeter’
location_type (str) : Area type eg/ nation, region, ltla. Default at ‘ltla’</p>
<p>Returns:
d_dict (dictionary) : Returns dictionary of covid data as returned by the Cov19API (in json format)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.fetch_data">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">fetch_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'England'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Exeter'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.fetch_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches covid data from covid19 API for both national and local region.
Writes the relevent data to a covid_data.json file.
The data contains the local region, local 7 day infection rate, the national region,
the national 7 day infection rate, the national hospital cases and the national
death total.</p>
<p>Keyword arguments:
nation (str) : Nation to fetch data for. Default at ‘England’
local (str) : Local region to fetch data for. Default at ‘Exeter’</p>
<p>Returns:
None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.parse_csv_data">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">parse_csv_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.parse_csv_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in covid data csv file and returns list of each row as a string
Note: Returns the same data format as the parse_json_data function</p>
<p>Keyword arguments:
csv_filename (file.csv) : Title of csv file containing covid data</p>
<p>Returns:
content (list) : Content of csv file as a list of strings for the rows in the file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.parse_json_data">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">parse_json_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">covid_json</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.parse_json_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in covid data json file and returns list of each row as a string
Note: Returns same data format as the parse_csv_data function</p>
<p>Keyword arguments:
covid_json (file.json) : Title of json file containing covid data</p>
<p>Returns:
data_list (list) : Content of json file as a list of strings for the rows in the file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.process_covid_csv_data">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">process_covid_csv_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">covid_csv_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.process_covid_csv_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of covid data and returns the number of cases in the last 7 days,
the current number of hospital cases and the cumulative number of deaths.</p>
<p>Keyword arguments:
covid_csv_data (list) : List of covid data as returned by parse_csv_data or parse_json_data</p>
<p>Returns:
last_7_days (int) : The number of cases in the last 7 days
current_hospital_cases (int) : The current hospital cases in the last 7 days
cumulative_deaths (int) : The cumulative number of deaths overall</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.read_config">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">read_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.read_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads data from a given json configuration file</p>
<p>Keyword arguments:
json_file (file.json) : Name of config file</p>
<p>Returns:
nation (str) : Nation as contained in config file
local (str) : Local region as contained in config file
api_key (str) : API key for news as contained in config file
search_terms (str) : Words to search for in the News API</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.schedule_covid_updates">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">schedule_covid_updates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sched.scheduler</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">sched.Event</span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.schedule_covid_updates" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads config file and updates covid_data.json with covid data after a given
time interval. Queues event to a given scheduler instance.
(Schedules fetch_data to occur after a given time interval)</p>
<p>Keyword arguments:
update_interval (int) : interval time until update in seconds
update_name (sched.scheduler) : scheduler name as in sched.scheduler</p>
<p>Returns:
data_event (sched.Event) : Event as returned by scheduler module</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_data_handler.update_delay">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_data_handler.</span></span><span class="sig-name descname"><span class="pre">update_delay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alarm_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#covid_dashboard.covid_data_handler.update_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Take an alarm time and calculates the time interval between the current time and
the alarm time</p>
<p>Keyword arguments:
alarm_time (string) : Time of alarm in hh:mm as fetched from parameters in url</p>
<p>Returns:
delay (int) : time in seconds between current time and time of alarm</p>
</dd></dl>

</section>
<section id="module-covid_dashboard.covid_news_handling">
<span id="covid-dashboard-covid-news-handling-module"></span><h2>covid_dashboard.covid_news_handling module<a class="headerlink" href="#module-covid_dashboard.covid_news_handling" title="Permalink to this headline">¶</a></h2>
<p>Covid News Handler Module contains functions that process news from the news API</p>
<p>Functions:
news_API_request, update_news, cut_article</p>
<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_news_handling.cut_article">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_news_handling.</span></span><span class="sig-name descname"><span class="pre">cut_article</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#covid_dashboard.covid_news_handling.cut_article" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an article and returns the first 25 words. If the article is less than 25
words it returns the full original article.</p>
<p>Keyword arguments:
article (string) : The article to take in</p>
<p>Returns:
new_art (string) : The first 25 words of the article
or article : Unmodified article</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_news_handling.news_API_request">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_news_handling.</span></span><span class="sig-name descname"><span class="pre">news_API_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">covid_terms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Covid</span> <span class="pre">COVID-19</span> <span class="pre">coronavirus'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#covid_dashboard.covid_news_handling.news_API_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches news from a news API using API key specified in the config file.
Each article is processed as a dictionary containing its title, content and link.
The article dictionaries are added to a list and the list is written to
a json file covid_news.json with key news_articles.</p>
<p>Keyword arguments:
covid_terms (string) : Terms to search for. Default at ‘Covid COVID-19 coronavirus’</p>
<p>Returns:
article_list (list) : A list of dictionaries with each dictionary being a news article.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.covid_news_handling.update_news">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.covid_news_handling.</span></span><span class="sig-name descname"><span class="pre">update_news</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sched.scheduler</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">sched.Event</span></span></span><a class="headerlink" href="#covid_dashboard.covid_news_handling.update_news" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates covid_news.json with news after a given time interval.
Queues event to a given scheduler instance.
(Schedules news_API_request to occur after a given time interval)</p>
<p>Keyword arguments:
update_interval (int) : interval time until update in seconds
update_name (sched.scheduler) : scheduler name as in sched.scheduler</p>
<p>Returns:
news_event (sched.Event) : Event as returned by scheduler module</p>
</dd></dl>

</section>
<section id="module-covid_dashboard.main">
<span id="covid-dashboard-main-module"></span><h2>covid_dashboard.main module<a class="headerlink" href="#module-covid_dashboard.main" title="Permalink to this headline">¶</a></h2>
<p>This is the main module that renders the flask template and pulls the data to put in it</p>
<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.main.run_index_page">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.main.</span></span><span class="sig-name descname"><span class="pre">run_index_page</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid_dashboard.main.run_index_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the schedulers and pulls the covid data and news from APIs.
It then renders the processed data in a flask template.
Accessed at /index</p>
</dd></dl>

</section>
<section id="module-covid_dashboard.update_and_alarm_handler">
<span id="covid-dashboard-update-and-alarm-handler-module"></span><h2>covid_dashboard.update_and_alarm_handler module<a class="headerlink" href="#module-covid_dashboard.update_and_alarm_handler" title="Permalink to this headline">¶</a></h2>
<p>Update and Alarm Handler Module contains functions that process the alarms and updates</p>
<p>Functions:
update_handler, user_remove_updates, completed_alarms, daily_update</p>
<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.update_and_alarm_handler.completed_alarms">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.update_and_alarm_handler.</span></span><span class="sig-name descname"><span class="pre">completed_alarms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sched</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sched</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple[typing.Optional[dict],</span> <span class="pre">typing.Optional[&lt;built-in</span> <span class="pre">function</span> <span class="pre">any&gt;]]</span></span></span><a class="headerlink" href="#covid_dashboard.update_and_alarm_handler.completed_alarms" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if any alrams have elapsed. If it repeats, return the original paramters (so it can be
rescheduled)
Returns the update dictionary to be removed if an alarm has elapsed.</p>
<p>Keyword arguments:
u_list (list) : current update list to check if there is an alarm with that name already.
d_sched (sched.scheduler) : the scheduler instance corresponding to the data updates
n_sched (sched.scheduler) : the scheduler instance corresponding to the news updates</p>
<p>Returns:
event_to_remove (dict) : the update dictionary to delete / remove from update list
repeat_params (ImmutableMultiDict) : original parameters of alarm to repeat from url as returned by request.args</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.update_and_alarm_handler.daily_update">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.update_and_alarm_handler.</span></span><span class="sig-name descname"><span class="pre">daily_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">daily_event_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sched</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sched</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid_dashboard.update_and_alarm_handler.daily_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes list holding 24 hour update events.
If the data event is no longer in the queue, reschedule news and data events and return the events
(to be added to list outside of function)
If events still in queue ie haven’t elapsed, the function returns None as no new event</p>
<p>Keyword arguments:
daily_event_list (list) : list containing event instance corresponding to 24 hour updates
d_sched (sched.scheduler) : the scheduler instance corresponding to the data updates
n_sched (sched.scheduler) : the scheduler instance corresponding to the news updates</p>
<p>Returns:
daily_data_update (sched.scheduler) : the new data event instance for the 24 hour update
daily_news_update (sched.scheduler) : the new news event instance for the 24 hour update</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.update_and_alarm_handler.update_handler">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.update_and_alarm_handler.</span></span><span class="sig-name descname"><span class="pre">update_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sched</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sched</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#covid_dashboard.update_and_alarm_handler.update_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in arguments from url and returns details to add to an update list
details. Includes the title, content parameters , whether it repeats and the event
Schedules these updates.</p>
<p>Keyword arguments:
r_parameters (ImmutableMultiDict) : parameters from url as returned by request.args
u_list (list) : current update list to check if there is an alarm with that name already.
d_sched (sched.scheduler) : the scheduler instance corresponding to the data updates
n_sched (sched.scheduler) : the scheduler instance corresponding to the news updates</p>
<p>Returns:
update_detail (dict) : dictionary with details of the update
or None</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="covid_dashboard.update_and_alarm_handler.user_remove_updates">
<span class="sig-prename descclassname"><span class="pre">covid_dashboard.update_and_alarm_handler.</span></span><span class="sig-name descname"><span class="pre">user_remove_updates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_sched</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sched</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#covid_dashboard.update_and_alarm_handler.user_remove_updates" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if there is a user request to delete an alarm. Removes the alarm from the
scheduler queues. Returns the update dictionary to be removed.</p>
<p>Keyword arguments:
r_parameters (ImmutableMultiDict) : parameters from url as returned by request.args
u_list (list) : current update list to check if there is an alarm with that name already.
d_sched (sched.scheduler) : the scheduler instance corresponding to the data updates
n_sched (sched.scheduler) : the scheduler instance corresponding to the news updates</p>
<p>Returns:
update_to_remove (dict) : the update dictionary to delete / remove from update list
or None</p>
</dd></dl>

</section>
<section id="module-covid_dashboard">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-covid_dashboard" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Covid Dashboard</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">covid_dashboard</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">covid_dashboard package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">covid_dashboard</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">covid_dashboard</a></li>
      <li>Next: <a href="covid_dashboard.tests.html" title="next chapter">covid_dashboard.tests package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Lucia Adams.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/covid_dashboard.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>